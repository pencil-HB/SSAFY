<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- mapper file: 실행시킬 query를 가지고 있는 파일 -->

<mapper namespace="com.mvc.mapper.ProductMapper">
    
    <!-- 전체 조회 -->
    <select id="selectAll" resultType="Product">
        SELECT * FROM product
    </select>

    <!-- 이름으로 조회 -->
    <select id="selectByName" parameterType="String" resultType="Product">
        SELECT * FROM product WHERE id = #{memberName}
    </select>

    <!-- 제품 코드로 조회 -->
    <select id="selectByCode" parameterType="String" resultType="Product">
        SELECT * FROM product WHERE code = #{code}
    </select>
    
    <select id="selectByDate" parameterType="java.util.Map" resultType="Product">
        SELECT * FROM product 
        WHERE regist_date BETWEEN #{startDate} AND #{endDate}
    </select>

    <!-- 제품 삽입 -->
    <insert id="insertProduct" parameterType="Product">
        INSERT INTO product (code, model, price, id, regist_date, detail)
        VALUES (#{code}, #{model}, #{price}, #{id}, #{regist_date}, #{detail})
    </insert>

    <!-- 제품 업데이트 -->
    <update id="updateProduct" parameterType="Product">
        UPDATE product
        SET model = #{model},
            price = #{price},
            id = #{id},
            regist_date = #{regist_date},
            detail = #{detail}
        WHERE code = #{code}
    </update>

    <!-- 제품 삭제 -->
    <delete id="deleteProduct" parameterType="String">
        DELETE FROM product WHERE code = #{code}
    </delete>

</mapper>

